{"version":3,"sources":["assets/javascript/storageHelper.js","assets/javascript/app.js"],"names":["config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firebase","initializeApp","getAllItemsFB","console","log","database","setLocalStorage","key","val","localStorage","setItem","getLocalStorage","getItem","deleteLocalStorage","removeItem","module","exports","storageHelper","require","$","document","ready","seatgeek","url","rangeInMiles","sortField","sortOrder","events","urlStr","getEvents","rangeInMile","isAsc","taxonomies","ajax","method","then","res","ip","taxonomiesStr","i","length","setEvents","on","event","preventDefault","each","search","push","renderResults","mainEvents","addClass","append","title","eventsList","eventDate","datetime_local","html","populateList","response","div","row","text","getAllValuesFB","ref","snapshot","forEach","childSnapshot","childData","errorObject","code","checkChildAdded","value"],"mappings":"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","file":"app.25a60053.map","sourceRoot":"..","sourcesContent":["/* Initialize Firebase*/\n\n    var config = {\n        apiKey: \"AIzaSyAaBxgXJBVE_9C8qzRu_ebV1sscAVqiers\",\n        authDomain: \"group-project-4da86.firebaseapp.com\",\n        databaseURL: \"https://group-project-4da86.firebaseio.com\",\n        projectId: \"group-project-4da86\",\n        storageBucket: \"group-project-4da86.appspot.com\",\n        messagingSenderId: \"847074672907\"\n      };\n    firebase.initializeApp(config);\n\nvar getAllItemsFB = function(){\n    console.log(\"FB\");\n    var database = firebase.database();\n}\n\n/* add an item to the local storage */\nvar setLocalStorage = function (key,val){\n   localStorage.setItem(key,val);\n};\n\n/* retreives an item from the local storage based on the key */\nvar getLocalStorage = function(key){\n    localStorage.getItem(key);\n}\n\n/* removes an item from the local storage based on the key */\nvar deleteLocalStorage = function(key){\n    localStorage.removeItem(key);\n}\n\nmodule.exports = {\n    setLocalStorage:setLocalStorage,\n    getLocalStorage:getLocalStorage,\n    deleteLocalStorage:deleteLocalStorage,\n    getAllItemsFB:getAllItemsFB\n}\n","const storageHelper = require('./storageHelper');\n\n$(document).ready(function () {\n  /**\n   * \n   * GLOBALS\n   */\n  storageHelper.setLocalStorage('name','james');\n  //  Initialize Firebase\n  var config = {\n    apiKey: \"AIzaSyAaBxgXJBVE_9C8qzRu_ebV1sscAVqiers\",\n    authDomain: \"group-project-4da86.firebaseapp.com\",\n    databaseURL: \"https://group-project-4da86.firebaseio.com\",\n    projectId: \"group-project-4da86\",\n    storageBucket: \"group-project-4da86.appspot.com\",\n    messagingSenderId: \"847074672907\"\n  };\n  firebase.initializeApp(config);\n\n  var database = firebase.database();\n\n  /**\n   *  geoIP defaults to empty string\n   *  rangeInMile defaults to 10\n   *  sortField defaults to datetime_local\n   *  sortOrder defaults to desc the other option is asc\n   */\n  var seatgeek = {\n    url: \"https://api.seatgeek.com/2/events?client_id=MTM3NTY1NjV8MTU0MTAzNjQ2MC42NA\",\n    rangeInMiles: 0,\n    sortField: \"datetime_local\",\n    sortOrder: \"desc\",\n    events: [],\n    urlStr: \"\",\n    getEvents: function (rangeInMile, isAsc, taxonomies) {\n      // validation\n      this.rangeInMiles = rangeInMile;\n      // sort order \n      if (isAsc) {\n        this.sortOrder = \"asc\";\n      } else {\n        this.sortOrder = \"desc\";\n      }\n\n      // api\n      $.ajax({\n        url: \"https://api.ipify.org/?format=json\",\n        method: \"GET\"\n      }).then(function (res) {\n        var ip = res.ip;\n        var taxonomiesStr = '';\n        for (var i = 0; i < taxonomies.length; i++) {\n          taxonomiesStr = taxonomiesStr + \"&taxonomies.name=\" + taxonomies[i];\n        }\n        seatgeek.urlStr = seatgeek.url + \"&geoip=\" + ip + \"&range=\" + seatgeek.rangeInMiles + \"mi\" +\n          \"&sort=\" + seatgeek.sortField + \".\" + seatgeek.sortOrder + taxonomiesStr;\n        $.ajax({\n          url: seatgeek.url + \"&geoip=\" + ip + \"&range=\" + seatgeek.rangeInMiles + \"mi\" +\n            \"&sort=\" + seatgeek.sortField + \".\" + seatgeek.sortOrder + taxonomiesStr,\n          method: \"GET\"\n        }).then(function (res) {\n          seatgeek.setEvents(res.events);\n        });\n\n      });\n    },\n    setEvents: function (events) {\n\n      this.events = events;\n    }\n  };\n\n  // click function rendering search input. \n  $(\"#search\").on(\"click\", function (event) {\n    event.preventDefault();\n    var taxonomies = [];\n    $.each($(\"input:checked\"), function () {\n      var search = $(this).val();\n      taxonomies.push(search);\n      console.log(search);\n    });\n\n    seatgeek.getEvents(11, false, taxonomies);\n    console.log(seatgeek);\n    renderResults(seatgeek);\n  });\n  // function to render api results to ui\n  function renderResults(seatgeek) {\n    for (var i = 0; i < seatgeek.events.length; i++) {\n      console.log(seatgeek.events[i]);\n      var mainEvents = $(\"<ul>\");\n      mainEvents.addClass(\"list-group\");\n      $(\".events\").append(mainEvents);\n\n      var title = seatgeek.events[i].title;\n      var eventsList = $(\"<li class='event-list-title'></li>\");\n      eventsList.append(\"<span class='label label-primary'>\" + title + \"</span>\");\n\n      var eventDate = seatgeek.events[i].datetime_local;\n      eventsList.append(\"<h5>\" + eventDate + \"</h5>\");\n\n      mainEvents.append(eventsList);\n      $(\".events\").html(mainEvents);\n    };\n\n  };\n\n  function populateList(response) {\n    for (var i = 0; i < response.events.length; i++) {\n      var div = $(\"<div>\");\n      var row = $(\"<div>\");\n      var title = $(\"<div>\");\n\n      row.addClass(\"eventContainer\")\n      title.addClass(\"title\")\n      div.addClass(\"eventButton\");\n\n\n      var event = response.events[i];\n\n      title.text(event.title);\n      row.append(title);\n      div.append(row);\n      $(\".events\").append(div);\n    }\n\n  }\n\n  /********** Storage Helper's ************/\n\n  /* Get's all values from Fire Base */\n  var getAllValuesFB = function () {\n\n    database.ref().on(\"value\", function (snapshot) {\n      snapshot.forEach(function (childSnapshot) {\n        var childData = childSnapshot.val();\n        console.log(childData);\n      }, function (errorObject) {\n        console.log(\"Error \" + errorObject.code)\n      });\n    });\n  };\n\n  /* Get's child from Fire Base */\n  var checkChildAdded = function () {\n\n    database.ref().on(\"child_added\", function (snapshot) {\n      var val = snapshot.val();\n      console.log(val);\n\n    }, function (errorObject) {\n      console.log(\"Error \" + errorObject.code);\n    });\n\n  }\n\n\n  /* add an item to the local storage */\n  var setLocalStorage = function (key, val) {\n    localStorage.setItem(key, value);\n  };\n\n  /* retreives an item from the local storage based on the key */\n  var getLocalStorage = function (key) {\n    localStorage.getItem(key);\n  }\n\n  /* removes an item from the local storage based on the key */\n  var deleteLocalStorage = function (key) {\n    localStorage.removeItem(key);\n  }\n\n});\n\n\n"]}